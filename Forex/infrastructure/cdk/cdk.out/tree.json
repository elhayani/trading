{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.234.1"},"children":{"ForexTradingStack":{"id":"ForexTradingStack","path":"ForexTradingStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.234.1"},"children":{"ForexTrader":{"id":"ForexTrader","path":"ForexTradingStack/ForexTrader","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.234.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ForexTradingStack/ForexTrader/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.234.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ForexTradingStack/ForexTrader/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"Resource":{"id":"Resource","path":"ForexTradingStack/ForexTrader/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ForexTradingStack/ForexTrader/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ForexTradingStack/ForexTrader/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock:InvokeModel","Effect":"Allow","Resource":"arn:aws:bedrock:us-east-1::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":dynamodb:us-east-1:946179054632:table/EmpireTradesHistory"]]}}],"Version":"2012-10-17"},"policyName":"ForexTraderServiceRoleDefaultPolicyC76C2E5F","roles":[{"Ref":"ForexTraderServiceRole62EFECEC"}]}}}}}}},"Code":{"id":"Code","path":"ForexTradingStack/ForexTrader/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.234.1"},"children":{"Stage":{"id":"Stage","path":"ForexTradingStack/ForexTrader/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.234.1"}},"AssetBucket":{"id":"AssetBucket","path":"ForexTradingStack/ForexTrader/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.234.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"ForexTradingStack/ForexTrader/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-946179054632-us-east-1","s3Key":"973e86d17174552fbea92c92c4e2ad4f59cd897a8f1c5fdad7942b34473c1c90.zip"},"environment":{"variables":{"TRADING_MODE":"test"}},"functionName":"ForexLiveTrader","handler":"lambda_function.lambda_handler","layers":["arn:aws:lambda:us-east-1:336392948345:layer:AWSSDKPandas-Python312:8",{"Ref":"ForexDependencyLayerF87C7248"}],"memorySize":512,"role":{"Fn::GetAtt":["ForexTraderServiceRole62EFECEC","Arn"]},"runtime":"python3.12","timeout":300}}},"LogRetention":{"id":"LogRetention","path":"ForexTradingStack/ForexTrader/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.234.1"},"children":{"Resource":{"id":"Resource","path":"ForexTradingStack/ForexTrader/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.234.1"}}}},"LogGroup":{"id":"LogGroup","path":"ForexTradingStack/ForexTrader/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Code":{"id":"Code","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.234.1"},"children":{"Stage":{"id":"Stage","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.234.1"}},"AssetBucket":{"id":"AssetBucket","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.234.1","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.234.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"Resource":{"id":"Resource","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"ForexTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.234.1"}}}},"AWSPandasLayer":{"id":"AWSPandasLayer","path":"ForexTradingStack/AWSPandasLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"ForexDependencyLayer":{"id":"ForexDependencyLayer","path":"ForexTradingStack/ForexDependencyLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.234.1","metadata":[]},"children":{"Code":{"id":"Code","path":"ForexTradingStack/ForexDependencyLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.234.1"},"children":{"Stage":{"id":"Stage","path":"ForexTradingStack/ForexDependencyLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.234.1"}},"AssetBucket":{"id":"AssetBucket","path":"ForexTradingStack/ForexDependencyLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.234.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"ForexTradingStack/ForexDependencyLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.12"],"content":{"s3Bucket":"cdk-hnb659fds-assets-946179054632-us-east-1","s3Key":"73f131737fe97e45f41a0b5743f0cca1e1ca609826dbaf2b0aef7979733fab23.zip"},"description":"Dependencies: yfinance, pandas_ta"}}}}},"HistoryTable":{"id":"HistoryTable","path":"ForexTradingStack/HistoryTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableBase","version":"2.234.1","metadata":[]}},"ForexTradingSchedule":{"id":"ForexTradingSchedule","path":"ForexTradingStack/ForexTradingSchedule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ForexTradingStack/ForexTradingSchedule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Trigger Forex trader every hour","name":"ForexHourlyCron","scheduleExpression":"cron(5,35 * ? * * *)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["ForexTraderF1C470A8","Arn"]}}]}}},"AllowEventRuleForexTradingStackForexTrader78E090A2":{"id":"AllowEventRuleForexTradingStackForexTrader78E090A2","path":"ForexTradingStack/ForexTradingSchedule/AllowEventRuleForexTradingStackForexTrader78E090A2","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ForexTraderF1C470A8","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["ForexTradingSchedule4FA0A022","Arn"]}}}}}},"ForexLambdaArn":{"id":"ForexLambdaArn","path":"ForexTradingStack/ForexLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"ForexTradingStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Default":{"id":"Default","path":"ForexTradingStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.234.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ForexTradingStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.234.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ForexTradingStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.234.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}}}}}