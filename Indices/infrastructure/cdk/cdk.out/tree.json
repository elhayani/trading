{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.234.1"},"children":{"IndicesTradingStack":{"id":"IndicesTradingStack","path":"IndicesTradingStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.234.1"},"children":{"IndicesTrader":{"id":"IndicesTrader","path":"IndicesTradingStack/IndicesTrader","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.234.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"IndicesTradingStack/IndicesTrader/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.234.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"IndicesTradingStack/IndicesTrader/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"Resource":{"id":"Resource","path":"IndicesTradingStack/IndicesTrader/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"IndicesTradingStack/IndicesTrader/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"IndicesTradingStack/IndicesTrader/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock:InvokeModel","Effect":"Allow","Resource":"arn:aws:bedrock:us-east-1::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"},{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":dynamodb:us-east-1:946179054632:table/EmpireTradesHistory"]]}}],"Version":"2012-10-17"},"policyName":"IndicesTraderServiceRoleDefaultPolicyB01AD26E","roles":[{"Ref":"IndicesTraderServiceRoleE005E56F"}]}}}}}}},"Code":{"id":"Code","path":"IndicesTradingStack/IndicesTrader/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.234.1"},"children":{"Stage":{"id":"Stage","path":"IndicesTradingStack/IndicesTrader/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.234.1"}},"AssetBucket":{"id":"AssetBucket","path":"IndicesTradingStack/IndicesTrader/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.234.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"IndicesTradingStack/IndicesTrader/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-946179054632-us-east-1","s3Key":"c559b37f086de8096b615ff4381211521061612b74927fc1e78013f6a29b5847.zip"},"environment":{"variables":{"TRADING_MODE":"test"}},"functionName":"IndicesLiveTrader","handler":"lambda_function.lambda_handler","layers":["arn:aws:lambda:us-east-1:336392948345:layer:AWSSDKPandas-Python312:8",{"Ref":"IndicesDependencyLayer2C7D9476"}],"memorySize":512,"role":{"Fn::GetAtt":["IndicesTraderServiceRoleE005E56F","Arn"]},"runtime":"python3.12","timeout":300}}},"LogRetention":{"id":"LogRetention","path":"IndicesTradingStack/IndicesTrader/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.234.1"},"children":{"Resource":{"id":"Resource","path":"IndicesTradingStack/IndicesTrader/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.234.1"}}}},"LogGroup":{"id":"LogGroup","path":"IndicesTradingStack/IndicesTrader/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Code":{"id":"Code","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.234.1"},"children":{"Stage":{"id":"Stage","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.234.1"}},"AssetBucket":{"id":"AssetBucket","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.234.1","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.234.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"Resource":{"id":"Resource","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"IndicesTradingStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.234.1"}}}},"AWSPandasLayer":{"id":"AWSPandasLayer","path":"IndicesTradingStack/AWSPandasLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"IndicesDependencyLayer":{"id":"IndicesDependencyLayer","path":"IndicesTradingStack/IndicesDependencyLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.234.1","metadata":[]},"children":{"Code":{"id":"Code","path":"IndicesTradingStack/IndicesDependencyLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.234.1"},"children":{"Stage":{"id":"Stage","path":"IndicesTradingStack/IndicesDependencyLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.234.1"}},"AssetBucket":{"id":"AssetBucket","path":"IndicesTradingStack/IndicesDependencyLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.234.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"IndicesTradingStack/IndicesDependencyLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.12"],"content":{"s3Bucket":"cdk-hnb659fds-assets-946179054632-us-east-1","s3Key":"73f131737fe97e45f41a0b5743f0cca1e1ca609826dbaf2b0aef7979733fab23.zip"},"description":"Dependencies: yfinance, pandas_ta"}}}}},"HistoryTable":{"id":"HistoryTable","path":"IndicesTradingStack/HistoryTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableBase","version":"2.234.1","metadata":[]}},"IndicesTradingSchedule":{"id":"IndicesTradingSchedule","path":"IndicesTradingStack/IndicesTradingSchedule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"IndicesTradingStack/IndicesTradingSchedule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Trigger Indices trader every hour","name":"IndicesHourlyCron","scheduleExpression":"cron(10,40 * ? * MON-FRI *)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["IndicesTraderEC7CE40F","Arn"]}}]}}},"AllowEventRuleIndicesTradingStackIndicesTrader7A382503":{"id":"AllowEventRuleIndicesTradingStackIndicesTrader7A382503","path":"IndicesTradingStack/IndicesTradingSchedule/AllowEventRuleIndicesTradingStackIndicesTrader7A382503","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["IndicesTraderEC7CE40F","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["IndicesTradingScheduleDA4D5308","Arn"]}}}}}},"IndicesLambdaArn":{"id":"IndicesLambdaArn","path":"IndicesTradingStack/IndicesLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"IndicesTradingStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Default":{"id":"Default","path":"IndicesTradingStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.234.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"IndicesTradingStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.234.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"IndicesTradingStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.234.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}}}}}